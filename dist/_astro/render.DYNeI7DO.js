import{ad as V,s as N,a as R,F as k,b as H,c as A,ae as T,g as M,af as Y,D as j,ag as b,l as g,f as D,i as x,m as y,n as C,ah as $,ai as q,y as B,t as F,aj as W,d as X,p as z,P as G,a2 as J,h as E,ab as K,X as Q}from"./template.CltUSWbt.js";const U=["touchstart","touchmove"];function Z(e){return U.includes(e)}const ee=new Set,O=new Set;function m(e){var t=this,n=t.ownerDocument,l=e.type,o=e.composedPath?.()||[],r=o[0]||e.target,f=0,c=e.__root;if(c){var d=o.indexOf(c);if(d!==-1&&(t===document||t===window)){e.__root=t;return}var _=o.indexOf(t);if(_===-1)return;d<=_&&(f=d)}if(r=o[f]||e.target,r!==t){V(e,"currentTarget",{configurable:!0,get(){return r||n}});var w=H,i=A;N(null),R(null);try{for(var a,s=[];r!==null;){var h=r.assignedSlot||r.parentNode||r.host||null;try{var u=r["__"+l];if(u!=null&&(!r.disabled||e.target===r))if(k(u)){var[L,...P]=u;L.apply(r,[e,...P])}else u.call(r,e)}catch(p){a?s.push(p):a=p}if(e.cancelBubble||h===t||h===null)break;r=h}if(a){for(let p of s)queueMicrotask(()=>{throw p});throw a}}finally{e.__root=t,delete e.currentTarget,N(w),R(i)}}}function ae(e,t){var n=t==null?"":typeof t=="object"?t+"":t;n!==(e.__t??=e.nodeValue)&&(e.__t=n,e.nodeValue=n+"")}function te(e,t){return I(e,t)}function ne(e,t){T(),t.intro=t.intro??!1;const n=t.target,l=E,o=y;try{for(var r=M(n);r&&(r.nodeType!==8||r.data!==Y);)r=j(r);if(!r)throw b;g(!0),D(r),x();const f=I(e,{...t,anchor:r});if(y===null||y.nodeType!==8||y.data!==C)throw $(),b;return g(!1),f}catch(f){if(f===b)return t.recover===!1&&q(),T(),B(n),g(!1),te(e,t);throw f}finally{g(l),D(o)}}const v=new Map;function I(e,{target:t,anchor:n,props:l={},events:o,context:r,intro:f=!0}){T();var c=new Set,d=i=>{for(var a=0;a<i.length;a++){var s=i[a];if(!c.has(s)){c.add(s);var h=Z(s);t.addEventListener(s,m,{passive:h});var u=v.get(s);u===void 0?(document.addEventListener(s,m,{passive:h}),v.set(s,1)):v.set(s,u+1)}}};d(F(ee)),O.add(d);var _=void 0,w=W(()=>{var i=n??t.appendChild(X());return z(()=>{if(r){G({});var a=J;a.c=r}o&&(l.$$events=o),E&&K(i,null),_=e(i,l)||{},E&&(A.nodes_end=y),r&&Q()}),()=>{for(var a of c){t.removeEventListener(a,m);var s=v.get(a);--s===0?(document.removeEventListener(a,m),v.delete(a)):v.set(a,s)}O.delete(d),i!==n&&i.parentNode?.removeChild(i)}});return S.set(_,w),_}let S=new WeakMap;function se(e,t){const n=S.get(e);return n?(S.delete(e),n(t)):Promise.resolve()}export{ne as h,te as m,ae as s,se as u};
